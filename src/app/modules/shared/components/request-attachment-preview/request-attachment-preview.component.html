

<p-table #requestAttachments [value]="requestAttachmentsDto" [paginator]="false" dataKey="id" [autoLayout]="true" [responsive]="true" [scrollable]="true" class="w-100">
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th>م</th>
      <th>اسم المرفق</th>
      <th>الإجراءات</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-i="rowIndex" let-requestAttachment>
    <tr>
      <td> {{i+1}} </td>
      <td> {{requestAttachment.attachmentName}} </td>
      <td>
        <a class="btn btn-primary mx-1 px-1 py-0" title="عرض المرفق" (click)="showAttachment(requestAttachment.id)">
          <i class="fa fa-eye"></i>
        </a>
        <a class="btn btn-primary mx-1 px-1 py-0" title="تنزيل المرفق" (click)="downloadAttachment(requestAttachment.id)">
          <i class="fa fa-download"></i>
        </a>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage" let-columns>
    <tr>
      <td colspan="5" class="empty-grid-table">لا يوجد بيانات</td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="عرض المرفق" [(visible)]="isModalOpen" [style]="{width: '70vw'}">
  <img [src]="attachment" alt="" style="width: 100%" />
</p-dialog>
